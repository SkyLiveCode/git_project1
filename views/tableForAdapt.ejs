<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrollable Table</title>
    <style>
        th {
            cursor: pointer;
            position: relative;
        }
        th .sort-arrow {
            margin-left: 5px;
            display: inline-flex;
            flex-direction: column;
        }
        .sort-arrow span {
            color: gray;
            font-size: 12px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Scrollable Table</h1>
        <div class="rows-per-page">
            <div>
                Show 
                <select id="rowsPerPageSelect">
                    <option value="5">5</option>
                    <option value="10" selected>10</option>
                    <option value="20">20</option>
                </select> 
                entries
            </div>
            <input type="text" id="searchInput" placeholder="Search...">
        </div>
        <table id="dataTable">
            <thead>
                <tr>
                    <th data-column="position">POSITION <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="email">EMAIL <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="city">CITY <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="date">DATE <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="salary">SALARY <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="age">AGE <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="experience">EXPERIENCE <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="status">STATUS <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                    <th data-column="actions">ACTIONS <div class="sort-arrow"><span class="up-arrow">&#9650;</span><span class="down-arrow">&#9660;</span></div></th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Data will be populated here by JavaScript -->
            </tbody>
        </table>
        <div class="pagination">
            <button id="prevPage">Previous</button>
            <span id="pageIndicator">1</span>
            <button id="nextPage">Next</button>
        </div>
    </div>
    <script>
        let currentPage = 1;
        let rowsPerPage = 10;
        let data = [];
        let filteredData = [];
        let currentSortColumn = '';
        let currentSortDirection = 'asc';

        document.addEventListener('DOMContentLoaded', () => {
            fetchData();
            document.getElementById('searchInput').addEventListener('input', searchTable);
            document.getElementById('prevPage').addEventListener('click', () => changePage(-1));
            document.getElementById('nextPage').addEventListener('click', () => changePage(1));
            document.getElementById('rowsPerPageSelect').addEventListener('change', changeRowsPerPage);

            document.querySelectorAll('.up-arrow').forEach(arrow => {
                arrow.addEventListener('click', () => sortTable(arrow.parentElement.parentElement.dataset.column, 'asc'));
            });

            document.querySelectorAll('.down-arrow').forEach(arrow => {
                arrow.addEventListener('click', () => sortTable(arrow.parentElement.parentElement.dataset.column, 'desc'));
            });
        });

        function fetchData() {
            data = [
                { position: 'Safety Technician', email: 'amoakler8@shareasale.com', city: 'Mogilany', date: '12/29/2021', salary: '$11677.32', age: 39, experience: '9 Years', status: 'APPLIED', actions: '' },
                { position: 'Administrative Assistant', email: 'aharvatt11@addtoany.com', city: 'Ulundi', date: '11/04/2021', salary: '$21782.82', age: 41, experience: '1 Year', status: 'CURRENT', actions: '' },
                { position: 'Staff Accountant', email: 'aglozman1r@storify.com', city: 'Pendawanbaru', date: '08/25/2021', salary: '$10745.32', age: 27, experience: '3 Years', status: 'APPLIED', actions: '' },
                { position: 'Analyst Programmer', email: 'bskirving24@cbsnews.com', city: 'Balky', date: '09/27/2021', salary: '$24733.28', age: 39, experience: '1 Year', status: 'RESIGNED', actions: '' },
                { position: 'VP Quality Control', email: 'bcoulman1@yolasite.com', city: 'Hinigaran', date: '05/20/2021', salary: '$13633.69', age: 63, experience: '3 Years', status: 'PROFESSIONAL', actions: '' },
                { position: 'VP Quality Control', email: 'blongland12@gizmodo.com', city: 'Damu', date: '07/18/2021', salary: '$22794.60', age: 62, experience: '2 Years', status: 'PROFESSIONAL', actions: '' },
                { position: 'Project Manager', email: 'sandra.bullock@movie.com', city: 'Los Angeles', date: '03/15/2022', salary: '$50000.00', age: 55, experience: '20 Years', status: 'PROFESSIONAL', actions: '' },
                { position: 'Software Developer', email: 'john.doe@developer.com', city: 'San Francisco', date: '02/12/2022', salary: '$120000.00', age: 30, experience: '8 Years', status: 'CURRENT', actions: '' },
                { position: 'Data Analyst', email: 'jane.doe@data.com', city: 'New York', date: '01/10/2022', salary: '$90000.00', age: 28, experience: '6 Years', status: 'CURRENT', actions: '' },
                { position: 'HR Manager', email: 'hr.manager@company.com', city: 'Chicago', date: '04/05/2022', salary: '$80000.00', age: 45, experience: '15 Years', status: 'APPLIED', actions: '' },
                { position: 'Marketing Specialist', email: 'marketing@company.com', city: 'Seattle', date: '05/07/2022', salary: '$75000.00', age: 35, experience: '10 Years', status: 'CURRENT', actions: '' },
                { position: 'Sales Representative', email: 'sales.rep@company.com', city: 'Austin', date: '06/09/2022', salary: '$65000.00', age: 32, experience: '7 Years', status: 'CURRENT', actions: '' },
                { position: 'Graphic Designer', email: 'designer@company.com', city: 'Denver', date: '07/11/2022', salary: '$60000.00', age: 29, experience: '5 Years', status: 'APPLIED', actions: '' },
                { position: 'Content Writer', email: 'writer@company.com', city: 'Boston', date: '08/13/2022', salary: '$55000.00', age: 27, experience: '4 Years', status: 'CURRENT', actions: '' },
                { position: 'Finance Manager', email: 'finance@company.com', city: 'Dallas', date: '09/15/2022', salary: '$110000.00', age: 50, experience: '18 Years', status: 'PROFESSIONAL', actions: '' }
            ];
            filteredData = data;
            renderTable();
        }

        function renderTable() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';

            const start = (currentPage - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const pageData = filteredData.slice(start, end);

            pageData.forEach(row => {
                const tr = document.createElement('tr');
                for (const key in row) {
                    const td = document.createElement('td');
                    td.textContent = row[key];
                    tr.appendChild(td);
                }
                tableBody.appendChild(tr);
            });

            document.getElementById('pageIndicator').textContent = currentPage;
        }

        function searchTable() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            filteredData = data.filter(row => {
                return Object.values(row).some(value => value.toString().toLowerCase().includes(query));
            });
            currentPage = 1;
            renderTable();
        }

        function changePage(direction) {
            const maxPage = Math.ceil(filteredData.length / rowsPerPage);
            if (currentPage + direction > 0 && currentPage + direction <= maxPage) {
                currentPage += direction;
                renderTable();
            }
        }

        function changeRowsPerPage() {
            rowsPerPage = parseInt(document.getElementById('rowsPerPageSelect').value);
            currentPage = 1;
            renderTable();
        }

        function sortTable(column, direction) {
            currentSortColumn = column;
            currentSortDirection = direction;

            filteredData.sort((a, b) => {
                const valueA = a[column];
                const valueB = b[column];

                if (currentSortDirection === 'asc') {
                    return valueA > valueB ? 1 : -1;
                } else {
                    return valueA < valueB ? 1 : -1;
                }
            });

            updateSortArrows(column);
            renderTable();
        }

        function updateSortArrows(column) {
            document.querySelectorAll('.sort-arrow span').forEach(span => {
                span.style.color = 'gray';
            });

            const activeArrow = document.querySelector(`th[data-column="${column}"] .sort-arrow`);
            if (currentSortDirection === 'asc') {
                activeArrow.children[0].style.color = 'black'; // Up arrow
                activeArrow.children[1].style.color = 'gray'; // Down arrow
            } else {
                activeArrow.children[0].style.color = 'gray'; // Up arrow
                activeArrow.children[1].style.color = 'black'; // Down arrow
            }
        }
    </script>
</body>
</html>
